"use strict";(self.webpackChunkMitExt=self.webpackChunkMitExt||[]).push([[757],{6757:(w,m,e)=>{e.r(m),e.d(m,{ApiModule:()=>f});var a=e(6895),u=e(9773),l=e(5861),g=e(4897),r=e(4650),o=e(9555);const s=[{path:"",component:(()=>{class n{constructor(t,c,v){this.activeRoute=t,this.datepipe=c,this.listService=v,this.listItemsOrigin=[],this.weekday=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],null!=this.activeRoute.snapshot.queryParamMap.get("action")&&(this.action=this.activeRoute.snapshot.queryParamMap.get("action")),null!=this.activeRoute.snapshot.queryParamMap.get("code")&&(this.code=this.activeRoute.snapshot.queryParamMap.get("code")),null!=this.activeRoute.snapshot.queryParamMap.get("actress")&&(this.actress=this.activeRoute.snapshot.queryParamMap.get("actress"))}ngOnInit(){}ngAfterViewInit(){var t=this;return(0,l.Z)(function*(){(null==t.action||null==t.action||""==t.action.trim())&&(console.log("cl"),window?.top?.close()),console.log(t.action),console.log(t.code),console.log(t.actress),"addList"==t.action&&(yield t.getList(),console.log(t.listItemsOrigin),t.onConfirmAdd())})()}getList(){return new Promise((t,c)=>{this.listService.getList().subscribe(v=>{this.listItemsOrigin=v[0].list,t()})})}onConfirmAdd(){var t=this;return(0,l.Z)(function*(){const c=t.listItemsOrigin.filter(y=>y.value?.code==t.code?.trim());null!=c&&null!=c&&c.length>0&&setTimeout(()=>{window.close()},1e3);const v=t.weekday[(new Date).getDay()];let M={value:{code:t.code?.trim(),actress:t.actress?.trim()?t.actress?.trim():null},timestamp:(new Date).getTime(),date:v+", "+t.datepipe.transform(new Date,"yyyy-MM-dd"),id:(new g.t4).toString()};t.listItemsOrigin.push(M),yield t.doUpdateList(t.listItemsOrigin),setTimeout(()=>{window.close()},1e3)})()}doUpdateList(t){return new Promise((c,v)=>{this.listService.updateList(t),c()})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(u.gz),r.Y36(a.uU),r.Y36(o.X))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-api"]],decls:2,vars:0,consts:[[1,"loadingImg"],[1,"apiBody"]],template:function(t,c){1&t&&r._UZ(0,"div",0)(1,"div",1)},styles:[".loadingImg[_ngcontent-%COMP%]{background-image:url(/assets/img/loading.gif);z-index:1;background-repeat:no-repeat;background-size:cover;background-position:center;margin-top:0;margin-left:0;width:300px;height:300px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.apiBody[_ngcontent-%COMP%]{position:absolute;width:100vw;height:100vh;background-color:#211c22;left:0;top:0;z-index:-1}"]}),n})()}];let i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[u.Bz.forChild(s),u.Bz]}),n})();var d=e(8395);let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[a.ez,i,d.m]}),n})()},8395:(w,m,e)=>{e.d(m,{m:()=>r});var a=e(5956),u=e(529),l=e(8443),g=e(4650);let r=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=g.oAB({type:o}),o.\u0275inj=g.cJS({imports:[a.q,u.JF,l.G$,a.q,u.JF,l.G$]}),o})()},8443:(w,m,e)=>{e.d(m,{G$:()=>g,xy:()=>s});var a=e(4650),u=e(6895),l=e(8929);let g=(()=>{class i{}return i.\u0275fac=function(f){return new(f||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[u.ez]}),i})();class o{get nativeWindow(){return function h(){return typeof window<"u"?window:void 0}()}}o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o.ngInjectableDef=(0,a.Ez6)({factory:function(){return new o},token:o,providedIn:"root"});class s{constructor(d){this.itemRevealedSource=new l.xQ,this.itemRevealed$=this.itemRevealedSource.asObservable(),this.window=d.nativeWindow}init(d){if(this.window){const f=d||{};f.callback=()=>this.itemRevealedSource.next(),new WOW(f).init()}}}s.\u0275fac=function(d){return new(d||s)(a.LFG(o))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s.ngInjectableDef=(0,a.Ez6)({factory:function(){return new s((0,a.f3M)(o))},token:s,providedIn:"root"})}}]);