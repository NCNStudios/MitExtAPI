"use strict";(self.webpackChunkMitExt=self.webpackChunkMitExt||[]).push([[962],{9555:(He,hr,Tt)=>{Tt.d(hr,{X:()=>cr});var lt=Tt(1553),Zt=Tt(4650);let cr=(()=>{class at{constructor(J){this.firestore=J,this.collectionName="ultimateList",this.documentName="list"}getList(){const J=(0,lt.hJ)(this.firestore,this.collectionName);return(0,lt.BS)(J)}updateList(J){const lr=(0,lt.JU)(this.firestore,this.collectionName,this.documentName);(0,lt.r7)(lr,{list:J})}}return at.\u0275fac=function(J){return new(J||at)(Zt.LFG(lt.gg))},at.\u0275prov=Zt.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})()},4897:(He,hr,Tt)=>{Tt.d(hr,{t4:()=>Z});for(var et=[],J=[],lr=typeof Uint8Array<"u"?Uint8Array:Array,pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt=0,We=pr.length;Bt<We;++Bt)et[Bt]=pr[Bt],J[pr.charCodeAt(Bt)]=Bt;function zr(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=r),[n,n===r?0:4-n%4]}function Xe(t){return et[t>>18&63]+et[t>>12&63]+et[t>>6&63]+et[63&t]}function ke(t,r,n){for(var l=[],h=r;h<n;h+=3)l.push(Xe((t[h]<<16&16711680)+(t[h+1]<<8&65280)+(255&t[h+2])));return l.join("")}J["-".charCodeAt(0)]=62,J["_".charCodeAt(0)]=63;var gr_toByteArray=function ze(t){var r,c,n=zr(t),e=n[0],l=n[1],h=new lr(function Ze(t,r,n){return 3*(r+n)/4-n}(0,e,l)),s=0,y=l>0?e-4:e;for(c=0;c<y;c+=4)r=J[t.charCodeAt(c)]<<18|J[t.charCodeAt(c+1)]<<12|J[t.charCodeAt(c+2)]<<6|J[t.charCodeAt(c+3)],h[s++]=r>>16&255,h[s++]=r>>8&255,h[s++]=255&r;return 2===l&&(r=J[t.charCodeAt(c)]<<2|J[t.charCodeAt(c+1)]>>4,h[s++]=255&r),1===l&&(r=J[t.charCodeAt(c)]<<10|J[t.charCodeAt(c+1)]<<4|J[t.charCodeAt(c+2)]>>2,h[s++]=r>>8&255,h[s++]=255&r),h},gr_fromByteArray=function qe(t){for(var r,n=t.length,e=n%3,l=[],h=16383,s=0,y=n-e;s<y;s+=h)l.push(ke(t,s,s+h>y?y:s+h));return 1===e?l.push(et[(r=t[n-1])>>2]+et[r<<4&63]+"=="):2===e&&l.push(et[(r=(t[n-2]<<8)+t[n-1])>>10]+et[r>>4&63]+et[r<<2&63]+"="),l.join("")},Nt_read=function(r,n,e,l,h){var s,y,c=8*h-l-1,m=(1<<c)-1,g=m>>1,u=-7,v=e?h-1:0,b=e?-1:1,N=r[n+v];for(v+=b,s=N&(1<<-u)-1,N>>=-u,u+=c;u>0;s=256*s+r[n+v],v+=b,u-=8);for(y=s&(1<<-u)-1,s>>=-u,u+=l;u>0;y=256*y+r[n+v],v+=b,u-=8);if(0===s)s=1-g;else{if(s===m)return y?NaN:1/0*(N?-1:1);y+=Math.pow(2,l),s-=g}return(N?-1:1)*y*Math.pow(2,s-l)},Nt_write=function(r,n,e,l,h,s){var y,c,m,g=8*s-h-1,u=(1<<g)-1,v=u>>1,b=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,N=l?0:s-1,O=l?1:-1,M=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,y=u):(y=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-y))<1&&(y--,m*=2),(n+=y+v>=1?b/m:b*Math.pow(2,1-v))*m>=2&&(y++,m/=2),y+v>=u?(c=0,y=u):y+v>=1?(c=(n*m-1)*Math.pow(2,h),y+=v):(c=n*Math.pow(2,v-1)*Math.pow(2,h),y=0));h>=8;r[e+N]=255&c,N+=O,c/=256,h-=8);for(y=y<<h|c,g+=h;g>0;r[e+N]=255&y,N+=O,y/=256,g-=8);r[e+N-O]|=128*M},E=function lt(t,r){return t(r={exports:{}},r.exports),r.exports}(function(t,r){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=s,r.SlowBuffer=function j(f){return+f!=f&&(f=0),s.alloc(+f)},r.INSPECT_MAX_BYTES=50;var e=2147483647;function h(f){if(f>e)throw new RangeError('The value "'+f+'" is invalid for option "size"');var i=new Uint8Array(f);return Object.setPrototypeOf(i,s.prototype),i}function s(f,i,o){if("number"==typeof f){if("string"==typeof i)throw new TypeError('The "string" argument must be of type string. Received type number');return g(f)}return y(f,i,o)}function y(f,i,o){if("string"==typeof f)return function u(f,i){if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var o=0|C(f,i),a=h(o),p=a.write(f,i);return p!==o&&(a=a.slice(0,p)),a}(f,i);if(ArrayBuffer.isView(f))return function b(f){if(V(f,Uint8Array)){var i=new Uint8Array(f);return N(i.buffer,i.byteOffset,i.byteLength)}return v(f)}(f);if(null==f)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(f));if(V(f,ArrayBuffer)||f&&V(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(f,SharedArrayBuffer)||f&&V(f.buffer,SharedArrayBuffer)))return N(f,i,o);if("number"==typeof f)throw new TypeError('The "value" argument must not be of type number. Received type number');var a=f.valueOf&&f.valueOf();if(null!=a&&a!==f)return s.from(a,i,o);var p=function O(f){if(s.isBuffer(f)){var i=0|M(f.length),o=h(i);return 0===o.length||f.copy(o,0,0,i),o}return void 0!==f.length?"number"!=typeof f.length||dt(f.length)?h(0):v(f):"Buffer"===f.type&&Array.isArray(f.data)?v(f.data):void 0}(f);if(p)return p;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof f[Symbol.toPrimitive])return s.from(f[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(f))}function c(f){if("number"!=typeof f)throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function g(f){return c(f),h(f<0?0:0|M(f))}function v(f){for(var i=f.length<0?0:0|M(f.length),o=h(i),a=0;a<i;a+=1)o[a]=255&f[a];return o}function N(f,i,o){if(i<0||f.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');var a;return a=void 0===i&&void 0===o?new Uint8Array(f):void 0===o?new Uint8Array(f,i):new Uint8Array(f,i,o),Object.setPrototypeOf(a,s.prototype),a}function M(f){if(f>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|f}function C(f,i){if(s.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||V(f,ArrayBuffer))return f.byteLength;if("string"!=typeof f)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(f));var o=f.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===o)return 0;for(var p=!1;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return st(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return Y(f).length;default:if(p)return a?-1:st(f).length;i=(""+i).toLowerCase(),p=!0}}function z(f,i,o){var a=!1;if((void 0===i||i<0)&&(i=0),i>this.length||((void 0===o||o>this.length)&&(o=this.length),o<=0)||(o>>>=0)<=(i>>>=0))return"";for(f||(f="utf8");;)switch(f){case"hex":return q(this,i,o);case"utf8":case"utf-8":return x(this,i,o);case"ascii":return U(this,i,o);case"latin1":case"binary":return A(this,i,o);case"base64":return R(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,i,o);default:if(a)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),a=!0}}function S(f,i,o){var a=f[i];f[i]=f[o],f[o]=a}function K(f,i,o,a,p){if(0===f.length)return-1;if("string"==typeof o?(a=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),dt(o=+o)&&(o=p?0:f.length-1),o<0&&(o=f.length+o),o>=f.length){if(p)return-1;o=f.length-1}else if(o<0){if(!p)return-1;o=0}if("string"==typeof i&&(i=s.from(i,a)),s.isBuffer(i))return 0===i.length?-1:Q(f,i,o,a,p);if("number"==typeof i)return i&=255,"function"==typeof Uint8Array.prototype.indexOf?p?Uint8Array.prototype.indexOf.call(f,i,o):Uint8Array.prototype.lastIndexOf.call(f,i,o):Q(f,[i],o,a,p);throw new TypeError("val must be string, number or Buffer")}function Q(f,i,o,a,p){var $,w=1,_=f.length,L=i.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(f.length<2||i.length<2)return-1;w=2,_/=2,L/=2,o/=2}function D(Ye,Je){return 1===w?Ye[Je]:Ye.readUInt16BE(Je*w)}if(p){var G=-1;for($=o;$<_;$++)if(D(f,$)===D(i,-1===G?0:$-G)){if(-1===G&&(G=$),$-G+1===L)return G*w}else-1!==G&&($-=$-G),G=-1}else for(o+L>_&&(o=_-L),$=o;$>=0;$--){for(var P=!0,ur=0;ur<L;ur++)if(D(f,$+ur)!==D(i,ur)){P=!1;break}if(P)return $}return-1}function H(f,i,o,a){o=Number(o)||0;var p=f.length-o;a?(a=Number(a))>p&&(a=p):a=p;var w=i.length;a>w/2&&(a=w/2);for(var _=0;_<a;++_){var L=parseInt(i.substr(2*_,2),16);if(dt(L))return _;f[o+_]=L}return _}function Ht(f,i,o,a){return ft(st(i,f.length-o),f,o,a)}function _t(f,i,o,a){return ft(function ar(f){for(var i=[],o=0;o<f.length;++o)i.push(255&f.charCodeAt(o));return i}(i),f,o,a)}function Et(f,i,o,a){return ft(Y(i),f,o,a)}function vt(f,i,o,a){return ft(function Ut(f,i){for(var o,a,w=[],_=0;_<f.length&&!((i-=2)<0);++_)a=(o=f.charCodeAt(_))>>8,w.push(o%256),w.push(a);return w}(i,f.length-o),f,o,a)}function R(f,i,o){return gr_fromByteArray(0===i&&o===f.length?f:f.slice(i,o))}function x(f,i,o){o=Math.min(f.length,o);for(var a=[],p=i;p<o;){var D,$,G,P,w=f[p],_=null,L=w>239?4:w>223?3:w>191?2:1;if(p+L<=o)switch(L){case 1:w<128&&(_=w);break;case 2:128==(192&(D=f[p+1]))&&(P=(31&w)<<6|63&D)>127&&(_=P);break;case 3:$=f[p+2],128==(192&(D=f[p+1]))&&128==(192&$)&&(P=(15&w)<<12|(63&D)<<6|63&$)>2047&&(P<55296||P>57343)&&(_=P);break;case 4:$=f[p+2],G=f[p+3],128==(192&(D=f[p+1]))&&128==(192&$)&&128==(192&G)&&(P=(15&w)<<18|(63&D)<<12|(63&$)<<6|63&G)>65535&&P<1114112&&(_=P)}null===_?(_=65533,L=1):_>65535&&(a.push((_-=65536)>>>10&1023|55296),_=56320|1023&_),a.push(_),p+=L}return function rt(f){var i=f.length;if(i<=X)return String.fromCharCode.apply(String,f);for(var o="",a=0;a<i;)o+=String.fromCharCode.apply(String,f.slice(a,a+=X));return o}(a)}r.kMaxLength=e,!(s.TYPED_ARRAY_SUPPORT=function l(){try{var f=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(f,i),42===f.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(f,i,o){return y(f,i,o)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(f,i,o){return function m(f,i,o){return c(f),f<=0?h(f):void 0!==i?"string"==typeof o?h(f).fill(i,o):h(f).fill(i):h(f)}(f,i,o)},s.allocUnsafe=function(f){return g(f)},s.allocUnsafeSlow=function(f){return g(f)},s.isBuffer=function(i){return null!=i&&!0===i._isBuffer&&i!==s.prototype},s.compare=function(i,o){if(V(i,Uint8Array)&&(i=s.from(i,i.offset,i.byteLength)),V(o,Uint8Array)&&(o=s.from(o,o.offset,o.byteLength)),!s.isBuffer(i)||!s.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;for(var a=i.length,p=o.length,w=0,_=Math.min(a,p);w<_;++w)if(i[w]!==o[w]){a=i[w],p=o[w];break}return a<p?-1:p<a?1:0},s.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(0===i.length)return s.alloc(0);var a;if(void 0===o)for(o=0,a=0;a<i.length;++a)o+=i[a].length;var p=s.allocUnsafe(o),w=0;for(a=0;a<i.length;++a){var _=i[a];if(V(_,Uint8Array))w+_.length>p.length?s.from(_).copy(p,w):Uint8Array.prototype.set.call(p,_,w);else{if(!s.isBuffer(_))throw new TypeError('"list" argument must be an Array of Buffers');_.copy(p,w)}w+=_.length}return p},s.byteLength=C,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var i=this.length;if(i%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<i;o+=2)S(this,o,o+1);return this},s.prototype.swap32=function(){var i=this.length;if(i%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<i;o+=4)S(this,o,o+3),S(this,o+1,o+2);return this},s.prototype.swap64=function(){var i=this.length;if(i%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<i;o+=8)S(this,o,o+7),S(this,o+1,o+6),S(this,o+2,o+5),S(this,o+3,o+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var i=this.length;return 0===i?"":0===arguments.length?x(this,0,i):z.apply(this,arguments)},s.prototype.equals=function(i){if(!s.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i||0===s.compare(this,i)},s.prototype.inspect=function(){var i="",o=r.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(i,o,a,p,w){if(V(i,Uint8Array)&&(i=s.from(i,i.offset,i.byteLength)),!s.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(i));if(void 0===o&&(o=0),void 0===a&&(a=i?i.length:0),void 0===p&&(p=0),void 0===w&&(w=this.length),o<0||a>i.length||p<0||w>this.length)throw new RangeError("out of range index");if(p>=w&&o>=a)return 0;if(p>=w)return-1;if(o>=a)return 1;if(this===i)return 0;for(var _=(w>>>=0)-(p>>>=0),L=(a>>>=0)-(o>>>=0),D=Math.min(_,L),$=this.slice(p,w),G=i.slice(o,a),P=0;P<D;++P)if($[P]!==G[P]){_=$[P],L=G[P];break}return _<L?-1:L<_?1:0},s.prototype.includes=function(i,o,a){return-1!==this.indexOf(i,o,a)},s.prototype.indexOf=function(i,o,a){return K(this,i,o,a,!0)},s.prototype.lastIndexOf=function(i,o,a){return K(this,i,o,a,!1)},s.prototype.write=function(i,o,a,p){if(void 0===o)p="utf8",a=this.length,o=0;else if(void 0===a&&"string"==typeof o)p=o,a=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(a)?(a>>>=0,void 0===p&&(p="utf8")):(p=a,a=void 0)}var w=this.length-o;if((void 0===a||a>w)&&(a=w),i.length>0&&(a<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var _=!1;;)switch(p){case"hex":return H(this,i,o,a);case"utf8":case"utf-8":return Ht(this,i,o,a);case"ascii":case"latin1":case"binary":return _t(this,i,o,a);case"base64":return Et(this,i,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,i,o,a);default:if(_)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),_=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function U(f,i,o){var a="";o=Math.min(f.length,o);for(var p=i;p<o;++p)a+=String.fromCharCode(127&f[p]);return a}function A(f,i,o){var a="";o=Math.min(f.length,o);for(var p=i;p<o;++p)a+=String.fromCharCode(f[p]);return a}function q(f,i,o){var a=f.length;(!i||i<0)&&(i=0),(!o||o<0||o>a)&&(o=a);for(var p="",w=i;w<o;++w)p+=Vt[f[w]];return p}function T(f,i,o){for(var a=f.slice(i,o),p="",w=0;w<a.length-1;w+=2)p+=String.fromCharCode(a[w]+256*a[w+1]);return p}function d(f,i,o){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+i>o)throw new RangeError("Trying to access beyond buffer length")}function W(f,i,o,a,p,w){if(!s.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>p||i<w)throw new RangeError('"value" argument is out of bounds');if(o+a>f.length)throw new RangeError("Index out of range")}function tt(f,i,o,a,p,w){if(o+a>f.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function Wt(f,i,o,a,p){return i=+i,o>>>=0,p||tt(f,0,o,4),Nt_write(f,i,o,a,23,4),o+4}function ot(f,i,o,a,p){return i=+i,o>>>=0,p||tt(f,0,o,8),Nt_write(f,i,o,a,52,8),o+8}s.prototype.slice=function(i,o){var a=this.length;(i=~~i)<0?(i+=a)<0&&(i=0):i>a&&(i=a),(o=void 0===o?a:~~o)<0?(o+=a)<0&&(o=0):o>a&&(o=a),o<i&&(o=i);var p=this.subarray(i,o);return Object.setPrototypeOf(p,s.prototype),p},s.prototype.readUintLE=s.prototype.readUIntLE=function(i,o,a){i>>>=0,o>>>=0,a||d(i,o,this.length);for(var p=this[i],w=1,_=0;++_<o&&(w*=256);)p+=this[i+_]*w;return p},s.prototype.readUintBE=s.prototype.readUIntBE=function(i,o,a){i>>>=0,o>>>=0,a||d(i,o,this.length);for(var p=this[i+--o],w=1;o>0&&(w*=256);)p+=this[i+--o]*w;return p},s.prototype.readUint8=s.prototype.readUInt8=function(i,o){return i>>>=0,o||d(i,1,this.length),this[i]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(i,o){return i>>>=0,o||d(i,2,this.length),this[i]|this[i+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(i,o){return i>>>=0,o||d(i,2,this.length),this[i]<<8|this[i+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(i,o){return i>>>=0,o||d(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+16777216*this[i+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(i,o){return i>>>=0,o||d(i,4,this.length),16777216*this[i]+(this[i+1]<<16|this[i+2]<<8|this[i+3])},s.prototype.readIntLE=function(i,o,a){i>>>=0,o>>>=0,a||d(i,o,this.length);for(var p=this[i],w=1,_=0;++_<o&&(w*=256);)p+=this[i+_]*w;return p>=(w*=128)&&(p-=Math.pow(2,8*o)),p},s.prototype.readIntBE=function(i,o,a){i>>>=0,o>>>=0,a||d(i,o,this.length);for(var p=o,w=1,_=this[i+--p];p>0&&(w*=256);)_+=this[i+--p]*w;return _>=(w*=128)&&(_-=Math.pow(2,8*o)),_},s.prototype.readInt8=function(i,o){return i>>>=0,o||d(i,1,this.length),128&this[i]?-1*(255-this[i]+1):this[i]},s.prototype.readInt16LE=function(i,o){i>>>=0,o||d(i,2,this.length);var a=this[i]|this[i+1]<<8;return 32768&a?4294901760|a:a},s.prototype.readInt16BE=function(i,o){i>>>=0,o||d(i,2,this.length);var a=this[i+1]|this[i]<<8;return 32768&a?4294901760|a:a},s.prototype.readInt32LE=function(i,o){return i>>>=0,o||d(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},s.prototype.readInt32BE=function(i,o){return i>>>=0,o||d(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},s.prototype.readFloatLE=function(i,o){return i>>>=0,o||d(i,4,this.length),Nt_read(this,i,!0,23,4)},s.prototype.readFloatBE=function(i,o){return i>>>=0,o||d(i,4,this.length),Nt_read(this,i,!1,23,4)},s.prototype.readDoubleLE=function(i,o){return i>>>=0,o||d(i,8,this.length),Nt_read(this,i,!0,52,8)},s.prototype.readDoubleBE=function(i,o){return i>>>=0,o||d(i,8,this.length),Nt_read(this,i,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(i,o,a,p){i=+i,o>>>=0,a>>>=0,p||W(this,i,o,a,Math.pow(2,8*a)-1,0);var _=1,L=0;for(this[o]=255&i;++L<a&&(_*=256);)this[o+L]=i/_&255;return o+a},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(i,o,a,p){i=+i,o>>>=0,a>>>=0,p||W(this,i,o,a,Math.pow(2,8*a)-1,0);var _=a-1,L=1;for(this[o+_]=255&i;--_>=0&&(L*=256);)this[o+_]=i/L&255;return o+a},s.prototype.writeUint8=s.prototype.writeUInt8=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,1,255,0),this[o]=255&i,o+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,2,65535,0),this[o]=255&i,this[o+1]=i>>>8,o+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=255&i,o+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=255&i,o+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=255&i,o+4},s.prototype.writeIntLE=function(i,o,a,p){if(i=+i,o>>>=0,!p){var w=Math.pow(2,8*a-1);W(this,i,o,a,w-1,-w)}var _=0,L=1,D=0;for(this[o]=255&i;++_<a&&(L*=256);)i<0&&0===D&&0!==this[o+_-1]&&(D=1),this[o+_]=(i/L>>0)-D&255;return o+a},s.prototype.writeIntBE=function(i,o,a,p){if(i=+i,o>>>=0,!p){var w=Math.pow(2,8*a-1);W(this,i,o,a,w-1,-w)}var _=a-1,L=1,D=0;for(this[o+_]=255&i;--_>=0&&(L*=256);)i<0&&0===D&&0!==this[o+_+1]&&(D=1),this[o+_]=(i/L>>0)-D&255;return o+a},s.prototype.writeInt8=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=255&i,o+1},s.prototype.writeInt16LE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,2,32767,-32768),this[o]=255&i,this[o+1]=i>>>8,o+2},s.prototype.writeInt16BE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=255&i,o+2},s.prototype.writeInt32LE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,4,2147483647,-2147483648),this[o]=255&i,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},s.prototype.writeInt32BE=function(i,o,a){return i=+i,o>>>=0,a||W(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=255&i,o+4},s.prototype.writeFloatLE=function(i,o,a){return Wt(this,i,o,!0,a)},s.prototype.writeFloatBE=function(i,o,a){return Wt(this,i,o,!1,a)},s.prototype.writeDoubleLE=function(i,o,a){return ot(this,i,o,!0,a)},s.prototype.writeDoubleBE=function(i,o,a){return ot(this,i,o,!1,a)},s.prototype.copy=function(i,o,a,p){if(!s.isBuffer(i))throw new TypeError("argument should be a Buffer");if(a||(a=0),!p&&0!==p&&(p=this.length),o>=i.length&&(o=i.length),o||(o=0),p>0&&p<a&&(p=a),p===a||0===i.length||0===this.length)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),i.length-o<p-a&&(p=i.length-o+a);var w=p-a;return this===i&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(o,a,p):Uint8Array.prototype.set.call(i,this.subarray(a,p),o),w},s.prototype.fill=function(i,o,a,p){if("string"==typeof i){if("string"==typeof o?(p=o,o=0,a=this.length):"string"==typeof a&&(p=a,a=this.length),void 0!==p&&"string"!=typeof p)throw new TypeError("encoding must be a string");if("string"==typeof p&&!s.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(1===i.length){var w=i.charCodeAt(0);("utf8"===p&&w<128||"latin1"===p)&&(i=w)}}else"number"==typeof i?i&=255:"boolean"==typeof i&&(i=Number(i));if(o<0||this.length<o||this.length<a)throw new RangeError("Out of range index");if(a<=o)return this;var _;if(o>>>=0,a=void 0===a?this.length:a>>>0,i||(i=0),"number"==typeof i)for(_=o;_<a;++_)this[_]=i;else{var L=s.isBuffer(i)?i:s.from(i,p),D=L.length;if(0===D)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(_=0;_<a-o;++_)this[_+o]=L[_%D]}return this};var Zr=/[^+/0-9A-Za-z-_]/g;function st(f,i){i=i||1/0;for(var o,a=f.length,p=null,w=[],_=0;_<a;++_){if((o=f.charCodeAt(_))>55295&&o<57344){if(!p){if(o>56319){(i-=3)>-1&&w.push(239,191,189);continue}if(_+1===a){(i-=3)>-1&&w.push(239,191,189);continue}p=o;continue}if(o<56320){(i-=3)>-1&&w.push(239,191,189),p=o;continue}o=65536+(p-55296<<10|o-56320)}else p&&(i-=3)>-1&&w.push(239,191,189);if(p=null,o<128){if((i-=1)<0)break;w.push(o)}else if(o<2048){if((i-=2)<0)break;w.push(o>>6|192,63&o|128)}else if(o<65536){if((i-=3)<0)break;w.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((i-=4)<0)break;w.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return w}function Y(f){return gr_toByteArray(function fr(f){if((f=(f=f.split("=")[0]).trim().replace(Zr,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(f))}function ft(f,i,o,a){for(var p=0;p<a&&!(p+o>=i.length||p>=f.length);++p)i[p+o]=f[p];return p}function V(f,i){return f instanceof i||null!=f&&null!=f.constructor&&null!=f.constructor.name&&f.constructor.name===i.name}function dt(f){return f!=f}var Vt=function(){for(var f="0123456789abcdef",i=new Array(256),o=0;o<16;++o)for(var a=16*o,p=0;p<16;++p)i[a+p]=f[o]+f[p];return i}()}).Buffer,yr=function(r,n){return(yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,l){e.__proto__=l}||function(e,l){for(var h in l)l.hasOwnProperty(h)&&(e[h]=l[h])})(r,n)};function Xt(t,r){function n(){this.constructor=t}yr(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var I=function(t){function r(n){var e=t.call(this,n)||this;return Object.setPrototypeOf(e,r.prototype),e}return Xt(r,t),Object.defineProperty(r.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),r}(Error),F=function(t){function r(n){var e=t.call(this,n)||this;return Object.setPrototypeOf(e,r.prototype),e}return Xt(r,t),Object.defineProperty(r.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),r}(TypeError);function kt(t){return t&&t.Math==Math&&t}function Xr(){return kt("object"==typeof globalThis&&globalThis)||kt("object"==typeof window&&window)||kt("object"==typeof self&&self)||kt("object"==typeof global&&global)||Function("return this")()}var tn=function(r){var n=function Qe(){var t=Xr();return"object"==typeof t.navigator&&"ReactNative"===t.navigator.product}()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(n);for(var e=E.alloc(r),l=0;l<r;++l)e[l]=Math.floor(256*Math.random());return e},kr=function(){if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(r){return t.getRandomValues(E.alloc(r))}}return typeof global<"u"&&global.crypto&&global.crypto.getRandomValues?function(r){return global.crypto.getRandomValues(E.alloc(r))}:tn}();function pt(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}function Rt(t){return"object"==typeof t&&null!==t}function qt(t,r){var n=!1;return function e(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return n||(console.warn(r),n=!0),t.apply(this,l)}}function gt(t){if(ArrayBuffer.isView(t))return E.from(t.buffer,t.byteOffset,t.byteLength);if(function qr(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}(t))return E.from(t);throw new F("Must use either Buffer or TypedArray")}var sn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,Gr=function(t){return"string"==typeof t&&sn.test(t)},mr=function(t){if(!Gr(t))throw new F('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var r=t.replace(/-/g,"");return E.from(r,"hex")},Kr=function(t,r){return void 0===r&&(r=!0),r?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},re=(Math.pow(2,63),Math.pow(2,63),Math.pow(2,53)),ee=-Math.pow(2,53),k=function(){function t(r,n){if(!(this instanceof t))return new t(r,n);if(!(null==r||"string"==typeof r||ArrayBuffer.isView(r)||r instanceof ArrayBuffer||Array.isArray(r)))throw new F("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=n??t.BSON_BINARY_SUBTYPE_DEFAULT,null==r?(this.buffer=E.alloc(t.BUFFER_SIZE),this.position=0):(this.buffer="string"==typeof r?E.from(r,"binary"):Array.isArray(r)?E.from(r):gt(r),this.position=this.buffer.byteLength)}return t.prototype.put=function(r){if("string"==typeof r&&1!==r.length)throw new F("only accepts single character String");if("number"!=typeof r&&1!==r.length)throw new F("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof r?r.charCodeAt(0):"number"==typeof r?r:r[0])<0||n>255)throw new F("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var e=E.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(e,0,0,this.buffer.length),this.buffer=e,this.buffer[this.position++]=n}},t.prototype.write=function(r,n){if(this.buffer.length<(n="number"==typeof n?n:this.position)+r.length){var e=E.alloc(this.buffer.length+r.length);this.buffer.copy(e,0,0,this.buffer.length),this.buffer=e}ArrayBuffer.isView(r)?(this.buffer.set(gt(r),n),this.position=n+r.byteLength>this.position?n+r.length:this.position):"string"==typeof r&&(this.buffer.write(r,n,r.length,"binary"),this.position=n+r.length>this.position?n+r.length:this.position)},t.prototype.read=function(r,n){return this.buffer.slice(r,r+(n=n&&n>0?n:this.position))},t.prototype.value=function(r){return(r=!!r)&&this.buffer.length===this.position?this.buffer:r?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(r){return this.buffer.toString(r)},t.prototype.toExtendedJSON=function(r){r=r||{};var n=this.buffer.toString("base64"),e=Number(this.sub_type).toString(16);return r.legacy?{$binary:n,$type:1===e.length?"0"+e:e}:{$binary:{base64:n,subType:1===e.length?"0"+e:e}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new Sr(this.buffer.slice(0,this.position));throw new I('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(t.SUBTYPE_UUID,'" is currently supported.'))},t.fromExtendedJSON=function(r,n){var e,l;if(n=n||{},"$binary"in r?n.legacy&&"string"==typeof r.$binary&&"$type"in r?(l=r.$type?parseInt(r.$type,16):0,e=E.from(r.$binary,"base64")):"string"!=typeof r.$binary&&(l=r.$binary.subType?parseInt(r.$binary.subType,16):0,e=E.from(r.$binary.base64,"base64")):"$uuid"in r&&(l=4,e=mr(r.$uuid)),!e)throw new F("Unexpected Binary Extended JSON format ".concat(JSON.stringify(r)));return 4===l?new Sr(e):new t(e,l)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var r=this.value(!0);return'new Binary(Buffer.from("'.concat(r.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty(k.prototype,"_bsontype",{value:"Binary"});var Sr=function(t){function r(n){var l,h,e=this;if(null==n)l=r.generate();else if(n instanceof r)l=E.from(n.buffer),h=n.__id;else if(ArrayBuffer.isView(n)&&16===n.byteLength)l=gt(n);else{if("string"!=typeof n)throw new F("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");l=mr(n)}return(e=t.call(this,l,4)||this).__id=h,e}return Xt(r,t),Object.defineProperty(r.prototype,"id",{get:function(){return this.buffer},set:function(n){this.buffer=n,r.cacheHexString&&(this.__id=Kr(n))},enumerable:!1,configurable:!0}),r.prototype.toHexString=function(n){if(void 0===n&&(n=!0),r.cacheHexString&&this.__id)return this.__id;var e=Kr(this.id,n);return r.cacheHexString&&(this.__id=e),e},r.prototype.toString=function(n){return n?this.id.toString(n):this.toHexString()},r.prototype.toJSON=function(){return this.toHexString()},r.prototype.equals=function(n){if(!n)return!1;if(n instanceof r)return n.id.equals(this.id);try{return new r(n).id.equals(this.id)}catch{return!1}},r.prototype.toBinary=function(){return new k(this.id,k.SUBTYPE_UUID)},r.generate=function(){var n=kr(16);return n[6]=15&n[6]|64,n[8]=63&n[8]|128,E.from(n)},r.isValid=function(n){return!!n&&(n instanceof r||("string"==typeof n?Gr(n):!!pt(n)&&16===n.length&&64==(240&n[6])&&128==(128&n[8])))},r.createFromHexString=function(n){return new r(mr(n))},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},r}(k),yt=function(){function t(r,n){if(!(this instanceof t))return new t(r,n);this.code=r,this.scope=n}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(r){return new t(r.$code,r.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var r=this.toJSON();return'new Code("'.concat(String(r.code),'"').concat(r.scope?", ".concat(JSON.stringify(r.scope)):"",")")},t}();Object.defineProperty(yt.prototype,"_bsontype",{value:"Code"});var ut=function(){function t(r,n,e,l){if(!(this instanceof t))return new t(r,n,e,l);var h=r.split(".");2===h.length&&(e=h.shift(),r=h.shift()),this.collection=r,this.oid=n,this.db=e,this.fields=l||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(r){this.collection=r},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var r=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(r.$db=this.db),r},t.prototype.toExtendedJSON=function(r){var n={$ref:this.collection,$id:this.oid};return(r=r||{}).legacy||(this.db&&(n.$db=this.db),n=Object.assign(n,this.fields)),n},t.fromExtendedJSON=function(r){var n=Object.assign({},r);return delete n.$ref,delete n.$id,delete n.$db,new t(r.$ref,r.$id,r.$db,n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var r=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(r),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},t}();Object.defineProperty(ut.prototype,"_bsontype",{value:"DBRef"});var nt=void 0;try{nt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var At=4294967296,me=At*At,_e=me/2,Ee={},ve={},B=function(){function t(r,n,e){if(void 0===r&&(r=0),!(this instanceof t))return new t(r,n,e);"bigint"==typeof r?Object.assign(this,t.fromBigInt(r,!!n)):"string"==typeof r?Object.assign(this,t.fromString(r,!!n)):(this.low=0|r,this.high=0|n,this.unsigned=!!e),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(r,n,e){return new t(r,n,e)},t.fromInt=function(r,n){var e,l,h;return n?(h=0<=(r>>>=0)&&r<256)&&(l=ve[r])?l:(e=t.fromBits(r,(0|r)<0?-1:0,!0),h&&(ve[r]=e),e):(h=-128<=(r|=0)&&r<128)&&(l=Ee[r])?l:(e=t.fromBits(r,r<0?-1:0,!1),h&&(Ee[r]=e),e)},t.fromNumber=function(r,n){if(isNaN(r))return n?t.UZERO:t.ZERO;if(n){if(r<0)return t.UZERO;if(r>=me)return t.MAX_UNSIGNED_VALUE}else{if(r<=-_e)return t.MIN_VALUE;if(r+1>=_e)return t.MAX_VALUE}return r<0?t.fromNumber(-r,n).neg():t.fromBits(r%At|0,r/At|0,n)},t.fromBigInt=function(r,n){return t.fromString(r.toString(),n)},t.fromString=function(r,n,e){if(0===r.length)throw Error("empty string");if("NaN"===r||"Infinity"===r||"+Infinity"===r||"-Infinity"===r)return t.ZERO;if("number"==typeof n?(e=n,n=!1):n=!!n,(e=e||10)<2||36<e)throw RangeError("radix");var l;if((l=r.indexOf("-"))>0)throw Error("interior hyphen");if(0===l)return t.fromString(r.substring(1),n,e).neg();for(var h=t.fromNumber(Math.pow(e,8)),s=t.ZERO,y=0;y<r.length;y+=8){var c=Math.min(8,r.length-y),m=parseInt(r.substring(y,y+c),e);if(c<8){var g=t.fromNumber(Math.pow(e,c));s=s.mul(g).add(t.fromNumber(m))}else s=(s=s.mul(h)).add(t.fromNumber(m))}return s.unsigned=n,s},t.fromBytes=function(r,n,e){return e?t.fromBytesLE(r,n):t.fromBytesBE(r,n)},t.fromBytesLE=function(r,n){return new t(r[0]|r[1]<<8|r[2]<<16|r[3]<<24,r[4]|r[5]<<8|r[6]<<16|r[7]<<24,n)},t.fromBytesBE=function(r,n){return new t(r[4]<<24|r[5]<<16|r[6]<<8|r[7],r[0]<<24|r[1]<<16|r[2]<<8|r[3],n)},t.isLong=function(r){return Rt(r)&&!0===r.__isLong__},t.fromValue=function(r,n){return"number"==typeof r?t.fromNumber(r,n):"string"==typeof r?t.fromString(r,n):t.fromBits(r.low,r.high,"boolean"==typeof n?n:r.unsigned)},t.prototype.add=function(r){t.isLong(r)||(r=t.fromValue(r));var g=0,u=0,v=0,b=0;return v+=(b+=(65535&this.low)+(65535&r.low))>>>16,u+=(v+=(this.low>>>16)+(r.low>>>16))>>>16,g+=(u+=(65535&this.high)+(65535&r.high))>>>16,g+=(this.high>>>16)+(r.high>>>16),t.fromBits((v&=65535)<<16|(b&=65535),(g&=65535)<<16|(u&=65535),this.unsigned)},t.prototype.and=function(r){return t.isLong(r)||(r=t.fromValue(r)),t.fromBits(this.low&r.low,this.high&r.high,this.unsigned)},t.prototype.compare=function(r){if(t.isLong(r)||(r=t.fromValue(r)),this.eq(r))return 0;var n=this.isNegative(),e=r.isNegative();return n&&!e?-1:!n&&e?1:this.unsigned?r.high>>>0>this.high>>>0||r.high===this.high&&r.low>>>0>this.low>>>0?-1:1:this.sub(r).isNegative()?-1:1},t.prototype.comp=function(r){return this.compare(r)},t.prototype.divide=function(r){if(t.isLong(r)||(r=t.fromValue(r)),r.isZero())throw Error("division by zero");if(nt){if(!this.unsigned&&-2147483648===this.high&&-1===r.low&&-1===r.high)return this;var n=(this.unsigned?nt.div_u:nt.div_s)(this.low,this.high,r.low,r.high);return t.fromBits(n,nt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var e,l,h;if(this.unsigned){if(r.unsigned||(r=r.toUnsigned()),r.gt(this))return t.UZERO;if(r.gt(this.shru(1)))return t.UONE;h=t.UZERO}else{if(this.eq(t.MIN_VALUE))return r.eq(t.ONE)||r.eq(t.NEG_ONE)?t.MIN_VALUE:r.eq(t.MIN_VALUE)?t.ONE:(e=this.shr(1).div(r).shl(1)).eq(t.ZERO)?r.isNegative()?t.ONE:t.NEG_ONE:(l=this.sub(r.mul(e)),h=e.add(l.div(r)));if(r.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return r.isNegative()?this.neg().div(r.neg()):this.neg().div(r).neg();if(r.isNegative())return this.div(r.neg()).neg();h=t.ZERO}for(l=this;l.gte(r);){e=Math.max(1,Math.floor(l.toNumber()/r.toNumber()));for(var y=Math.ceil(Math.log(e)/Math.LN2),c=y<=48?1:Math.pow(2,y-48),m=t.fromNumber(e),g=m.mul(r);g.isNegative()||g.gt(l);)g=(m=t.fromNumber(e-=c,this.unsigned)).mul(r);m.isZero()&&(m=t.ONE),h=h.add(m),l=l.sub(g)}return h},t.prototype.div=function(r){return this.divide(r)},t.prototype.equals=function(r){return t.isLong(r)||(r=t.fromValue(r)),(this.unsigned===r.unsigned||this.high>>>31!=1||r.high>>>31!=1)&&this.high===r.high&&this.low===r.low},t.prototype.eq=function(r){return this.equals(r)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var n,r=0!==this.high?this.high:this.low;for(n=31;n>0&&0==(r&1<<n);n--);return 0!==this.high?n+33:n+1},t.prototype.greaterThan=function(r){return this.comp(r)>0},t.prototype.gt=function(r){return this.greaterThan(r)},t.prototype.greaterThanOrEqual=function(r){return this.comp(r)>=0},t.prototype.gte=function(r){return this.greaterThanOrEqual(r)},t.prototype.ge=function(r){return this.greaterThanOrEqual(r)},t.prototype.isEven=function(){return 0==(1&this.low)},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return 1==(1&this.low)},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return 0===this.high&&0===this.low},t.prototype.lessThan=function(r){return this.comp(r)<0},t.prototype.lt=function(r){return this.lessThan(r)},t.prototype.lessThanOrEqual=function(r){return this.comp(r)<=0},t.prototype.lte=function(r){return this.lessThanOrEqual(r)},t.prototype.modulo=function(r){if(t.isLong(r)||(r=t.fromValue(r)),nt){var n=(this.unsigned?nt.rem_u:nt.rem_s)(this.low,this.high,r.low,r.high);return t.fromBits(n,nt.get_high(),this.unsigned)}return this.sub(this.div(r).mul(r))},t.prototype.mod=function(r){return this.modulo(r)},t.prototype.rem=function(r){return this.modulo(r)},t.prototype.multiply=function(r){if(this.isZero())return t.ZERO;if(t.isLong(r)||(r=t.fromValue(r)),nt){var n=nt.mul(this.low,this.high,r.low,r.high);return t.fromBits(n,nt.get_high(),this.unsigned)}if(r.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return r.isOdd()?t.MIN_VALUE:t.ZERO;if(r.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return r.isNegative()?this.neg().mul(r.neg()):this.neg().mul(r).neg();if(r.isNegative())return this.mul(r.neg()).neg();if(this.lt(t.TWO_PWR_24)&&r.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*r.toNumber(),this.unsigned);var l=65535&this.high,h=this.low>>>16,s=65535&this.low,c=65535&r.high,m=r.low>>>16,g=65535&r.low,u=0,v=0,b=0,N=0;return b+=(N+=s*g)>>>16,v+=(b+=h*g)>>>16,b&=65535,v+=(b+=s*m)>>>16,u+=(v+=l*g)>>>16,v&=65535,u+=(v+=h*m)>>>16,v&=65535,u+=(v+=s*c)>>>16,u+=(this.high>>>16)*g+l*m+h*c+s*(r.high>>>16),t.fromBits((b&=65535)<<16|(N&=65535),(u&=65535)<<16|(v&=65535),this.unsigned)},t.prototype.mul=function(r){return this.multiply(r)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(r){return!this.equals(r)},t.prototype.neq=function(r){return this.notEquals(r)},t.prototype.ne=function(r){return this.notEquals(r)},t.prototype.or=function(r){return t.isLong(r)||(r=t.fromValue(r)),t.fromBits(this.low|r.low,this.high|r.high,this.unsigned)},t.prototype.shiftLeft=function(r){return t.isLong(r)&&(r=r.toInt()),0==(r&=63)?this:r<32?t.fromBits(this.low<<r,this.high<<r|this.low>>>32-r,this.unsigned):t.fromBits(0,this.low<<r-32,this.unsigned)},t.prototype.shl=function(r){return this.shiftLeft(r)},t.prototype.shiftRight=function(r){return t.isLong(r)&&(r=r.toInt()),0==(r&=63)?this:r<32?t.fromBits(this.low>>>r|this.high<<32-r,this.high>>r,this.unsigned):t.fromBits(this.high>>r-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(r){return this.shiftRight(r)},t.prototype.shiftRightUnsigned=function(r){if(t.isLong(r)&&(r=r.toInt()),0==(r&=63))return this;var n=this.high;return r<32?t.fromBits(this.low>>>r|n<<32-r,n>>>r,this.unsigned):t.fromBits(32===r?n:n>>>r-32,0,this.unsigned)},t.prototype.shr_u=function(r){return this.shiftRightUnsigned(r)},t.prototype.shru=function(r){return this.shiftRightUnsigned(r)},t.prototype.subtract=function(r){return t.isLong(r)||(r=t.fromValue(r)),this.add(r.neg())},t.prototype.sub=function(r){return this.subtract(r)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*At+(this.low>>>0):this.high*At+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(r){return r?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var r=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&r,r>>>8&255,r>>>16&255,r>>>24]},t.prototype.toBytesBE=function(){var r=this.high,n=this.low;return[r>>>24,r>>>16&255,r>>>8&255,255&r,n>>>24,n>>>16&255,n>>>8&255,255&n]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(r){if((r=r||10)<2||36<r)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(t.MIN_VALUE)){var n=t.fromNumber(r),e=this.div(n),l=e.mul(n).sub(this);return e.toString(r)+l.toInt().toString(r)}return"-"+this.neg().toString(r)}for(var h=t.fromNumber(Math.pow(r,6),this.unsigned),s=this,y="";;){var c=s.div(h),g=(s.sub(c.mul(h)).toInt()>>>0).toString(r);if((s=c).isZero())return g+y;for(;g.length<6;)g="0"+g;y=""+g+y}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(r){return t.isLong(r)||(r=t.fromValue(r)),t.fromBits(this.low^r.low,this.high^r.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(r){return this.lessThanOrEqual(r)},t.prototype.toExtendedJSON=function(r){return r&&r.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(r,n){var e=t.fromString(r.$numberLong);return n&&n.relaxed?e.toNumber():e},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},t.TWO_PWR_24=t.fromInt(16777216),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(B.prototype,"__isLong__",{value:!0}),Object.defineProperty(B.prototype,"_bsontype",{value:"Long"});var cn=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,ln=/^(\+|-)?(Infinity|inf)$/i,pn=/^(\+|-)?NaN$/i,Dt=6111,Ar=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Ne=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Se=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),yn=/^([-+])?(\d+)?$/;function Ae(t){return!isNaN(parseInt(t,10))}function En(t){var r=B.fromNumber(1e9),n=B.fromNumber(0);if(!(t.parts[0]||t.parts[1]||t.parts[2]||t.parts[3]))return{quotient:t,rem:n};for(var e=0;e<=3;e++)n=(n=n.shiftLeft(32)).add(new B(t.parts[e],0)),t.parts[e]=n.div(r).low,n=n.modulo(r);return{quotient:t,rem:n}}function xt(t,r){throw new F('"'.concat(t,'" is not a valid Decimal128 string - ').concat(r))}var Ft=function(){function t(r){if(!(this instanceof t))return new t(r);if("string"==typeof r)this.bytes=t.fromString(r).bytes;else{if(!pt(r))throw new F("Decimal128 must take a Buffer or string");if(16!==r.byteLength)throw new F("Decimal128 must take a Buffer of 16 bytes");this.bytes=r}}return t.fromString=function(r){var z,n=!1,e=!1,l=!1,h=0,s=0,y=0,c=0,m=0,g=[0],u=0,v=0,b=0,N=0,O=0,M=0,j=new B(0,0),C=new B(0,0),S=0;if(r.length>=7e3)throw new F(r+" not a valid Decimal128 string");var K=r.match(cn),Q=r.match(ln),H=r.match(pn);if(!K&&!Q&&!H||0===r.length)throw new F(r+" not a valid Decimal128 string");if(K){var Ht=K[2],_t=K[4],Et=K[5],vt=K[6];_t&&void 0===vt&&xt(r,"missing exponent power"),_t&&void 0===Ht&&xt(r,"missing exponent base"),void 0===_t&&(Et||vt)&&xt(r,"missing e before exponent")}if(("+"===r[S]||"-"===r[S])&&(n="-"===r[S++]),!Ae(r[S])&&"."!==r[S]){if("i"===r[S]||"I"===r[S])return new t(E.from(n?Ne:Se));if("N"===r[S])return new t(E.from(Ar))}for(;Ae(r[S])||"."===r[S];)"."!==r[S]?(u<34&&("0"!==r[S]||l)&&(l||(m=s),l=!0,g[v++]=parseInt(r[S],10),u+=1),l&&(y+=1),e&&(c+=1),s+=1,S+=1):(e&&xt(r,"contains multiple periods"),e=!0,S+=1);if(e&&!s)throw new F(r+" not a valid Decimal128 string");if("e"===r[S]||"E"===r[S]){var R=r.substr(++S).match(yn);if(!R||!R[2])return new t(E.from(Ar));O=parseInt(R[0],10),S+=R[0].length}if(r[S])return new t(E.from(Ar));if(b=0,u){if(N=u-1,1!==(h=y))for(;0===g[m+h-1];)h-=1}else b=0,N=0,g[0]=0,y=1,u=1,h=0;for(O<=c&&c-O>16384?O=-6176:O-=c;O>Dt;){if((N+=1)-b>34){if(g.join("").match(/^0+$/)){O=Dt;break}xt(r,"overflow")}O-=1}for(;O<-6176||u<y;){if(0===N&&h<u){O=-6176,h=0;break}if(u<y?y-=1:N-=1,O<Dt)O+=1;else{if(g.join("").match(/^0+$/)){O=Dt;break}xt(r,"overflow")}}if(N-b+1<h){var X=s;e&&(m+=1,X+=1),n&&(m+=1,X+=1);var rt=parseInt(r[m+N+1],10),U=0;if(rt>=5&&(U=1,5===rt))for(U=g[N]%2==1?1:0,M=m+N+2;M<X;M++)if(parseInt(r[M],10)){U=1;break}if(U)for(var A=N;A>=0;A--)if(++g[A]>9&&(g[A]=0,0===A)){if(!(O<Dt))return new t(E.from(n?Ne:Se));O+=1,g[A]=1}}if(j=B.fromNumber(0),C=B.fromNumber(0),0===h)j=B.fromNumber(0),C=B.fromNumber(0);else if(N-b<17)for(A=b,C=B.fromNumber(g[A++]),j=new B(0,0);A<=N;A++)C=(C=C.multiply(B.fromNumber(10))).add(B.fromNumber(g[A]));else{for(A=b,j=B.fromNumber(g[A++]);A<=N-17;A++)j=(j=j.multiply(B.fromNumber(10))).add(B.fromNumber(g[A]));for(C=B.fromNumber(g[A++]);A<=N;A++)C=(C=C.multiply(B.fromNumber(10))).add(B.fromNumber(g[A]))}var q=function vn(t,r){if(!t&&!r)return{high:B.fromNumber(0),low:B.fromNumber(0)};var n=t.shiftRightUnsigned(32),e=new B(t.getLowBits(),0),l=r.shiftRightUnsigned(32),h=new B(r.getLowBits(),0),s=n.multiply(l),y=n.multiply(h),c=e.multiply(l),m=e.multiply(h);return s=s.add(y.shiftRightUnsigned(32)),y=new B(y.getLowBits(),0).add(c).add(m.shiftRightUnsigned(32)),{high:s=s.add(y.shiftRightUnsigned(32)),low:m=y.shiftLeft(32).add(new B(m.getLowBits(),0))}}(j,B.fromString("100000000000000000"));q.low=q.low.add(C),function Bn(t,r){var n=t.high>>>0,e=r.high>>>0;return n<e||n===e&&t.low>>>0<r.low>>>0}(q.low,C)&&(q.high=q.high.add(B.fromNumber(1))),z=O+6176;var T={low:B.fromNumber(0),high:B.fromNumber(0)};q.high.shiftRightUnsigned(49).and(B.fromNumber(1)).equals(B.fromNumber(1))?(T.high=T.high.or(B.fromNumber(3).shiftLeft(61)),T.high=T.high.or(B.fromNumber(z).and(B.fromNumber(16383).shiftLeft(47))),T.high=T.high.or(q.high.and(B.fromNumber(0x7fffffffffff)))):(T.high=T.high.or(B.fromNumber(16383&z).shiftLeft(49)),T.high=T.high.or(q.high.and(B.fromNumber(562949953421311)))),T.low=q.low,n&&(T.high=T.high.or(B.fromString("9223372036854775808")));var d=E.alloc(16);return S=0,d[S++]=255&T.low.low,d[S++]=T.low.low>>8&255,d[S++]=T.low.low>>16&255,d[S++]=T.low.low>>24&255,d[S++]=255&T.low.high,d[S++]=T.low.high>>8&255,d[S++]=T.low.high>>16&255,d[S++]=T.low.high>>24&255,d[S++]=255&T.high.low,d[S++]=T.high.low>>8&255,d[S++]=T.high.low>>16&255,d[S++]=T.high.low>>24&255,d[S++]=255&T.high.high,d[S++]=T.high.high>>8&255,d[S++]=T.high.high>>16&255,d[S++]=T.high.high>>24&255,new t(d)},t.prototype.toString=function(){for(var r,n=0,e=new Array(36),l=0;l<e.length;l++)e[l]=0;var y,m,g,h=0,s=!1,c={parts:[0,0,0,0]},u=[];h=0;var v=this.bytes,b=v[h++]|v[h++]<<8|v[h++]<<16|v[h++]<<24,N=v[h++]|v[h++]<<8|v[h++]<<16|v[h++]<<24,O=v[h++]|v[h++]<<8|v[h++]<<16|v[h++]<<24,M=v[h++]|v[h++]<<8|v[h++]<<16|v[h++]<<24;h=0,(new B(b,N),new B(O,M)).lessThan(B.ZERO)&&u.push("-");var C=M>>26&31;if(C>>3==3){if(30===C)return u.join("")+"Infinity";if(31===C)return"NaN";r=M>>15&16383,y=8+(M>>14&1)}else y=M>>14&7,r=M>>17&16383;var z=r-6176;if(c.parts[0]=(16383&M)+((15&y)<<14),c.parts[1]=O,c.parts[2]=N,c.parts[3]=b,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])s=!0;else for(g=3;g>=0;g--){var S=0,K=En(c);if(c=K.quotient,S=K.rem.low)for(m=8;m>=0;m--)e[9*g+m]=S%10,S=Math.floor(S/10)}if(s)n=1,e[h]=0;else for(n=36;!e[h];)n-=1,h+=1;var Q=n-1+z;if(Q>=34||Q<=-7||z>0){if(n>34)return u.push("".concat(0)),z>0?u.push("E+".concat(z)):z<0&&u.push("E".concat(z)),u.join("");for(u.push("".concat(e[h++])),(n-=1)&&u.push("."),l=0;l<n;l++)u.push("".concat(e[h++]));u.push("E"),u.push(Q>0?"+".concat(Q):"".concat(Q))}else if(z>=0)for(l=0;l<n;l++)u.push("".concat(e[h++]));else{var H=n+z;if(H>0)for(l=0;l<H;l++)u.push("".concat(e[h++]));else u.push("0");for(u.push(".");H++<0;)u.push("0");for(l=0;l<n-Math.max(H-1,0);l++)u.push("".concat(e[h++]))}return u.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(r){return t.fromString(r.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},t}();Object.defineProperty(Ft.prototype,"_bsontype",{value:"Decimal128"});var It=function(){function t(r){if(!(this instanceof t))return new t(r);r instanceof Number&&(r=r.valueOf()),this.value=+r}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(r){return this.value.toString(r)},t.prototype.toExtendedJSON=function(r){return r&&(r.legacy||r.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:(Number.isInteger(this.value)?(n=this.value.toFixed(1)).length>=13&&(n=this.value.toExponential(13).toUpperCase()):n=this.value.toString(),{$numberDouble:n});var n},t.fromExtendedJSON=function(r,n){var e=parseFloat(r.$numberDouble);return n&&n.relaxed?e:new t(e)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var r=this.toExtendedJSON();return"new Double(".concat(r.$numberDouble,")")},t}();Object.defineProperty(It.prototype,"_bsontype",{value:"Double"});var bt=function(){function t(r){if(!(this instanceof t))return new t(r);r instanceof Number&&(r=r.valueOf()),this.value=0|+r}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(r){return this.value.toString(r)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(r){return r&&(r.relaxed||r.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(r,n){return n&&n.relaxed?parseInt(r.$numberInt,10):new t(r.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},t}();Object.defineProperty(bt.prototype,"_bsontype",{value:"Int32"});var Mt=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(Mt.prototype,"_bsontype",{value:"MaxKey"});var $t=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty($t.prototype,"_bsontype",{value:"MinKey"});var Nn=new RegExp("^[0-9a-fA-F]{24}$"),wt=null,it=Symbol("id"),Z=function(){function t(r){if(!(this instanceof t))return new t(r);var n;if("object"==typeof r&&r&&"id"in r){if("string"!=typeof r.id&&!ArrayBuffer.isView(r.id))throw new F("Argument passed in must have an id that is of type string or Buffer");n="toHexString"in r&&"function"==typeof r.toHexString?E.from(r.toHexString(),"hex"):r.id}else n=r;if(null==n||"number"==typeof n)this[it]=t.generate("number"==typeof n?n:void 0);else if(ArrayBuffer.isView(n)&&12===n.byteLength)this[it]=n instanceof E?n:gt(n);else{if("string"!=typeof n)throw new F("Argument passed in does not match the accepted types");if(12===n.length){var e=E.from(n);if(12!==e.byteLength)throw new F("Argument passed in must be a string of 12 bytes");this[it]=e}else{if(24!==n.length||!Nn.test(n))throw new F("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");this[it]=E.from(n,"hex")}}t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[it]},set:function(r){this[it]=r,t.cacheHexString&&(this.__id=r.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(r){this.id.writeUInt32BE(r,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var r=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=r),r},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(r){"number"!=typeof r&&(r=Math.floor(Date.now()/1e3));var n=t.getInc(),e=E.alloc(12);return e.writeUInt32BE(r,0),null===wt&&(wt=kr(5)),e[4]=wt[0],e[5]=wt[1],e[6]=wt[2],e[7]=wt[3],e[8]=wt[4],e[11]=255&n,e[10]=n>>8&255,e[9]=n>>16&255,e},t.prototype.toString=function(r){return r?this.id.toString(r):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(r){if(null==r)return!1;if(r instanceof t)return this[it][11]===r[it][11]&&this[it].equals(r[it]);if("string"==typeof r&&t.isValid(r)&&12===r.length&&pt(this.id))return r===E.prototype.toString.call(this.id,"latin1");if("string"==typeof r&&t.isValid(r)&&24===r.length)return r.toLowerCase()===this.toHexString();if("string"==typeof r&&t.isValid(r)&&12===r.length)return E.from(r).equals(this.id);if("object"==typeof r&&"toHexString"in r&&"function"==typeof r.toHexString){var n=r.toHexString(),e=this.toHexString().toLowerCase();return"string"==typeof n&&n.toLowerCase()===e}return!1},t.prototype.getTimestamp=function(){var r=new Date,n=this.id.readUInt32BE(0);return r.setTime(1e3*Math.floor(n)),r},t.createPk=function(){return new t},t.createFromTime=function(r){var n=E.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(r,0),new t(n)},t.createFromHexString=function(r){if(typeof r>"u"||null!=r&&24!==r.length)throw new F("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(E.from(r,"hex"))},t.isValid=function(r){if(null==r)return!1;try{return new t(r),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(r){return new t(r.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},t.index=Math.floor(16777215*Math.random()),t}();Object.defineProperty(Z.prototype,"generate",{value:qt(function(t){return Z.generate(t)},"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(Z.prototype,"getInc",{value:qt(function(){return Z.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Z.prototype,"get_inc",{value:qt(function(){return Z.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Z,"get_inc",{value:qt(function(){return Z.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(Z.prototype,"_bsontype",{value:"ObjectID"});var mt=function(){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this.pattern=r,this.options=function Sn(t){return t.split("").sort().join("")}(n??""),-1!==this.pattern.indexOf("\0"))throw new I("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(-1!==this.options.indexOf("\0"))throw new I("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var e=0;e<this.options.length;e++)if("i"!==this.options[e]&&"m"!==this.options[e]&&"x"!==this.options[e]&&"l"!==this.options[e]&&"s"!==this.options[e]&&"u"!==this.options[e])throw new I("The regular expression option [".concat(this.options[e],"] is not supported"))}return t.parseOptions=function(r){return r?r.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(r){return(r=r||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(r){if("$regex"in r){if("string"==typeof r.$regex)return new t(r.$regex,t.parseOptions(r.$options));if("BSONRegExp"===r.$regex._bsontype)return r}if("$regularExpression"in r)return new t(r.$regularExpression.pattern,t.parseOptions(r.$regularExpression.options));throw new F("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(r)))},t}();Object.defineProperty(mt.prototype,"_bsontype",{value:"BSONRegExp"});var jt=function(){function t(r){if(!(this instanceof t))return new t(r);this.value=r}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(r){return new t(r.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(jt.prototype,"_bsontype",{value:"Symbol"});var rr=function(t){function r(n,e){var l=this;return l instanceof r?(l=B.isLong(n)?t.call(this,n.low,n.high,!0)||this:Rt(n)&&typeof n.t<"u"&&typeof n.i<"u"?t.call(this,n.i,n.t,!0)||this:t.call(this,n,e,!0)||this,Object.defineProperty(l,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),l):new r(n,e)}return Xt(r,t),r.prototype.toJSON=function(){return{$timestamp:this.toString()}},r.fromInt=function(n){return new r(B.fromInt(n,!0))},r.fromNumber=function(n){return new r(B.fromNumber(n,!0))},r.fromBits=function(n,e){return new r(n,e)},r.fromString=function(n,e){return new r(B.fromString(n,!0,e))},r.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},r.fromExtendedJSON=function(n){return new r(n.$timestamp)},r.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},r.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},r.MAX_VALUE=B.MAX_UNSIGNED_VALUE,r}(B);var Ie=2147483647,be=-2147483648,Ue=0x8000000000000000,de=-0x8000000000000000,An={$oid:Z,$binary:k,$uuid:k,$symbol:jt,$numberInt:bt,$numberDecimal:Ft,$numberDouble:It,$numberLong:B,$minKey:$t,$maxKey:Mt,$regex:mt,$regularExpression:mt,$timestamp:rr};function Te(t,r){if(void 0===r&&(r={}),"number"==typeof t){if(r.relaxed||r.legacy)return t;if(Math.floor(t)===t){if(t>=be&&t<=Ie)return new bt(t);if(t>=de&&t<=Ue)return B.fromNumber(t)}return new It(t)}if(null==t||"object"!=typeof t)return t;if(t.$undefined)return null;for(var n=Object.keys(t).filter(function(u){return u.startsWith("$")&&null!=t[u]}),e=0;e<n.length;e++){var l=An[n[e]];if(l)return l.fromExtendedJSON(t,r)}if(null!=t.$date){var h=t.$date,s=new Date;return r.legacy?"number"==typeof h?s.setTime(h):"string"==typeof h&&s.setTime(Date.parse(h)):"string"==typeof h?s.setTime(Date.parse(h)):B.isLong(h)?s.setTime(h.toNumber()):"number"==typeof h&&r.relaxed&&s.setTime(h),s}if(null!=t.$code){var y=Object.assign({},t);return t.$scope&&(y.$scope=Te(t.$scope)),yt.fromExtendedJSON(t)}if(function ye(t){return Rt(t)&&null!=t.$id&&"string"==typeof t.$ref&&(null==t.$db||"string"==typeof t.$db)}(t)||t.$dbPointer){var c=t.$ref?t:t.$dbPointer;if(c instanceof ut)return c;var m=Object.keys(c).filter(function(u){return u.startsWith("$")}),g=!0;if(m.forEach(function(u){-1===["$ref","$id","$db"].indexOf(u)&&(g=!1)}),g)return ut.fromExtendedJSON(c)}return t}function Le(t){var r=t.toISOString();return 0!==t.getUTCMilliseconds()?r:r.slice(0,-5)+"Z"}function ht(t,r){if(("object"==typeof t||"function"==typeof t)&&null!==t){var n=r.seenObjects.findIndex(function(j){return j.obj===t});if(-1!==n){var e=r.seenObjects.map(function(j){return j.propertyName}),l=e.slice(0,n).map(function(j){return"".concat(j," -> ")}).join(""),h=e[n],s=" -> "+e.slice(n+1,e.length-1).map(function(j){return"".concat(j," -> ")}).join(""),y=e[e.length-1],c=" ".repeat(l.length+h.length/2),m="-".repeat(s.length+(h.length+y.length)/2-1);throw new F("Converting circular structure to EJSON:\n"+"    ".concat(l).concat(h).concat(s).concat(y,"\n")+"    ".concat(c,"\\").concat(m,"/"))}r.seenObjects[r.seenObjects.length-1].obj=t}if(Array.isArray(t))return function xn(t,r){return t.map(function(n,e){r.seenObjects.push({propertyName:"index ".concat(e),obj:null});try{return ht(n,r)}finally{r.seenObjects.pop()}})}(t,r);if(void 0===t)return null;if(t instanceof Date||function Lt(t){return Rt(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)){var g=t.getTime(),u=g>-1&&g<2534023188e5;return r.legacy?r.relaxed&&u?{$date:t.getTime()}:{$date:Le(t)}:r.relaxed&&u?{$date:Le(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(!("number"!=typeof t||r.relaxed&&isFinite(t))){if(Math.floor(t)===t){var b=t>=de&&t<=Ue;if(t>=be&&t<=Ie)return{$numberInt:t.toString()};if(b)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||function Ot(t){return"[object RegExp]"===Object.prototype.toString.call(t)}(t)){var N=t.flags;if(void 0===N){var O=t.toString().match(/[gimuy]*$/);O&&(N=O[0])}return new mt(t.source,N).toExtendedJSON(r)}return null!=t&&"object"==typeof t?function bn(t,r){if(null==t||"object"!=typeof t)throw new I("not an object instance");var n=t._bsontype;if(typeof n>"u"){var e={};for(var l in t){r.seenObjects.push({propertyName:l,obj:null});try{var h=ht(t[l],r);"__proto__"===l?Object.defineProperty(e,l,{value:h,writable:!0,enumerable:!0,configurable:!0}):e[l]=h}finally{r.seenObjects.pop()}}return e}if(function xe(t){return Rt(t)&&Reflect.has(t,"_bsontype")&&"string"==typeof t._bsontype}(t)){var s=t;if("function"!=typeof s.toExtendedJSON){var y=In[t._bsontype];if(!y)throw new F("Unrecognized or invalid _bsontype: "+t._bsontype);s=y(s)}return"Code"===n&&s.scope?s=new yt(s.code,ht(s.scope,r)):"DBRef"===n&&s.oid&&(s=new ut(ht(s.collection,r),ht(s.oid,r),ht(s.db,r),ht(s.fields,r))),s.toExtendedJSON(r)}throw new I("_bsontype must be a string, but was: "+typeof n)}(t,r):t}var xr,In={Binary:function(t){return new k(t.value(),t.sub_type)},Code:function(t){return new yt(t.code,t.scope)},DBRef:function(t){return new ut(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new Ft(t.bytes)},Double:function(t){return new It(t.value)},Int32:function(t){return new bt(t.value)},Long:function(t){return B.fromBits(null!=t.low?t.low:t.low_,null!=t.low?t.high:t.high_,null!=t.low?t.unsigned:t.unsigned_)},MaxKey:function(){return new Mt},MinKey:function(){return new $t},ObjectID:function(t){return new Z(t)},ObjectId:function(t){return new Z(t)},BSONRegExp:function(t){return new mt(t.pattern,t.options)},Symbol:function(t){return new jt(t.value)},Timestamp:function(t){return rr.fromBits(t.low,t.high)}};!function(t){function r(h,s){var y=Object.assign({},{relaxed:!0,legacy:!1},s);return"boolean"==typeof y.relaxed&&(y.strict=!y.relaxed),"boolean"==typeof y.strict&&(y.relaxed=!y.strict),JSON.parse(h,function(c,m){if(-1!==c.indexOf("\0"))throw new I("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(c)));return Te(m,y)})}function n(h,s,y,c){null!=y&&"object"==typeof y&&(c=y,y=0),null!=s&&"object"==typeof s&&!Array.isArray(s)&&(c=s,s=void 0,y=0);var g=ht(h,Object.assign({relaxed:!0,legacy:!1},c,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(g,s,y)}t.parse=r,t.stringify=n,t.serialize=function e(h,s){return s=s||{},JSON.parse(n(h,s))},t.deserialize=function l(h,s){return s=s||{},r(JSON.stringify(h),s)}}(xr||(xr={})),Xr().Map||function(){function t(r){void 0===r&&(r=[]),this._keys=[],this._values={};for(var n=0;n<r.length;n++)if(null!=r[n]){var e=r[n],l=e[0],h=e[1];this._keys.push(l),this._values[l]={v:h,i:this._keys.length-1}}}t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(r){var n=this._values[r];return null!=n&&(delete this._values[r],this._keys.splice(n.i,1),!0)},t.prototype.entries=function(){var r=this,n=0;return{next:function(){var e=r._keys[n++];return{value:void 0!==e?[e,r._values[e].v]:void 0,done:void 0===e}}}},t.prototype.forEach=function(r,n){n=n||this;for(var e=0;e<this._keys.length;e++){var l=this._keys[e];r.call(n,this._values[l].v,l,n)}},t.prototype.get=function(r){return this._values[r]?this._values[r].v:void 0},t.prototype.has=function(r){return null!=this._values[r]},t.prototype.keys=function(){var r=this,n=0;return{next:function(){var e=r._keys[n++];return{value:void 0!==e?e:void 0,done:void 0===e}}}},t.prototype.set=function(r,n){return this._values[r]?(this._values[r].v=n,this):(this._keys.push(r),this._values[r]={v:n,i:this._keys.length-1},this)},t.prototype.values=function(){var r=this,n=0;return{next:function(){var e=r._keys[n++];return{value:void 0!==e?r._values[e].v:void 0,done:void 0===e}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0})}(),B.fromNumber(re),B.fromNumber(ee);var Pt=new Uint8Array(8);new DataView(Pt.buffer,Pt.byteOffset,Pt.byteLength),E.alloc(17825792)}}]);